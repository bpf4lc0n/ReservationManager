<hr>
<div class="row">
    <div class="col-md-4">
        <h1 style="color:red" translate>Reservations List</h1>
    </div>
    <div class="col-md-4">
        <h6 style="color:grey">Lorem ipsum dolor sit amet consectetur 
            adipisicing elit. Aspernatur ipsam quam sed autem dolore vel, 
            alias tenetur, dignissimos tempore, rem quod totam?</h6>
    </div>
    <div class="col-md-4">
        <button 
            class="btn btn-accept" 
            routerLink="/reserve-create" 
            type="submit"
            style="color:white; background-color:grey" translate>CREATE RESERVATION</button>
    </div>    
</div>
<hr>
<div class="controls-container">
    <mat-form-field appearance="outline">
        <mat-icon matPrefix>format_line_spacing</mat-icon>
        <mat-select 
            name="sort_by" 
            appearance="outline" 
            placeholder="Sort by" 
            [(ngModel)]="selectedColumn"
            (selectionChange)="changeSortedColumn()"
            translate> 
            <mat-option translate>By Date Ascending</mat-option>                          
            <mat-option translate>By Date Descending</mat-option>
            <mat-option translate>By Alphabetic Ascending</mat-option>
            <mat-option translate>By Alphabetic Descending</mat-option>
            <mat-option translate>By Ranking</mat-option>
        </mat-select>    
    </mat-form-field>     
</div>
<div class="mat-elevation-z8">
    <mat-table matSort 
        (matSortChange)="sortData($event)"
        [dataSource]="reserves" 
        class="example-table"
        matSort>
    
        <ng-container matColumnDef="Icon" hide="true">
            <th mat-header-cell fxFlex="5%" *matHeaderCellDef mat-sort-header></th>
            <td mat-cell fxFlex="5%" *matCellDef="let row">
                <img 
                    src="../../assets/images/RestaurantIcon.jpg"
                    alt="Restaurant Icon" 
                    class="img-responsive"
                    srcset=""/>  
            </td>
        </ng-container>

            <!-- Number Column -->
        <ng-container matColumnDef="Restaurant">
            <th mat-header-cell *matHeaderCellDef mat-sort-header></th>
            <td mat-cell *matCellDef="let row">
              <div>  {{row.Restaurant.Name}}</div>
              <div>  {{row.Date | date}}</div>
            </td>
        </ng-container>
              
            <!-- Created Column -->
        <ng-container matColumnDef="Ranking">
            <th mat-header-cell *matHeaderCellDef mat-sort-header></th>
            <td mat-cell *matCellDef="let row">
                <div translate>Ranking</div>
                <div>
                    <span class="fas fa-star" [class.rate]= "row.Ranking >= 1"  (click)="onRate(row, 1)"></span>
                    <span class="fas fa-star" [class.rate]= "row.Ranking >= 2"  (click)="onRate(row, 2)"></span>
                    <span class="fas fa-star" [class.rate]= "row.Ranking >= 3"  (click)="onRate(row, 3)"></span>
                    <span class="fas fa-star" [class.rate]= "row.Ranking >= 4"  (click)="onRate(row, 4)"></span>
                    <span class="fas fa-star" [class.rate]= "row.Ranking === 5" (click)="onRate(row, 5)"></span>
                </div>
            </td>
        </ng-container>

        <ng-container matColumnDef="Favorite" mat-sort-header>
            <th mat-header-cell *matHeaderCellDef></th>
            <td mat-cell *matCellDef="let row">                
                <button 
                    class="btn btn-submit"                    
                    (click)="onFavorite(row)"
                    [hidden]="getIsMobile()"
                    [ngStyle]="{'color': row.Favorite ? 'grey' : 'black'}"
                    translate>Add Favorites                  
                </button>  
                <mat-icon (click)="onFavorite(row)" [ngStyle]="{'color': row.Favorite ? 'red' : 'black' }" >favorite_border</mat-icon>                  
            </td>
        </ng-container>
        
        <ng-container matColumnDef="Edit">
            <th mat-header-cell *matHeaderCellDef></th>
            <td mat-cell *matCellDef="let row">
                <reserve-edit-dialog></reserve-edit-dialog>
            </td>
        </ng-container>
    
        <tr mat-header-row *matHeaderRowDef="getDisplayedColumns()"></tr>
        <tr mat-row *matRowDef="let row; columns: getDisplayedColumns();"></tr>
            
    </mat-table>  
    <mat-paginator [length]="5" [pageSize]="8"></mat-paginator> 
</div>